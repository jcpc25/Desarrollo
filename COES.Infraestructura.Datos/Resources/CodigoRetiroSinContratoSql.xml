<?xml version="1.0" encoding="utf-8" ?>
<Sqls>

  <Sql>
    <key>GetById</key>
    <query>
      select TRN_CODIGO_RETIRO_SINCONTRATO.*,
      VW_SI_EMPRESA.EMPRNOMB,
      TRN_BARRA.BARRBARRATRANSFERENCIA
      from TRN_CODIGO_RETIRO_SINCONTRATO join VW_SI_EMPRESA on VW_SI_EMPRESA.EMPRCODI = TRN_CODIGO_RETIRO_SINCONTRATO.CLIEMPRCODI
                                         join TRN_BARRA on TRN_BARRA.BARRCODI = TRN_CODIGO_RETIRO_SINCONTRATO.BARRCODI
      where (TRN_CODIGO_RETIRO_SINCONTRATO.CORESCCODI = :CORESCCODI)
    </query>
  </Sql>

  <Sql>
    <key>Save</key>
    <query>
      insert into TRN_CODIGO_RETIRO_SINCONTRATO
      (
      CORESCCODI, CLIEMPRCODI, BARRCODI, CORESCCODIGO,
      CORESCFECHAINICIO,CORESCFECHAFIN,
      CORESCESTADO, CORESCUSERNAME, CORESCFECINS,GENEMPRCODI)
      values
      (
      :CORESCCODI, :CLIEMPRCODI, :BARRCODI, :CORESCCODIGO,
      :CORESCFECHAINICIO, :CORESCFECHAFIN,
      :CORESCESTADO, :CORESCUSERNAME, :CORESCFECINS,:GENEMPRCODI
      )
    </query>
  </Sql>

  <Sql>
    <key>Update</key>
    <query>
      update TRN_CODIGO_RETIRO_SINCONTRATO
      set
      CLIEMPRCODI = :CLIEMPRCODI,
      BARRCODI = :BARRCODI,
      CORESCCODIGO = :CORESCCODIGO,
      CORESCFECHAINICIO = :CORESCFECHAINICIO,
      CORESCFECHAFIN = :CORESCFECHAFIN,
      CORESCESTADO = :CORESCESTADO,
      CORESCFECACT = :CORESCFECACT,
      GENEMPRCODI = : GENEMPRCODI
      where
      CORESCCODI = :CORESCCODI
    </query>
  </Sql>

  <Sql>
    <key>Delete</key>
    <query>
      delete from TRN_CODIGO_RETIRO_SINCONTRATO where CORESCCODI = :CORESCCODI
    </query>
  </Sql>

  <Sql>
    <key>List</key>
    <query>
      select TRN_CODIGO_RETIRO_SINCONTRATO.*,
      VW_SI_EMPRESA.EMPRNOMB,
      TRN_BARRA.BARRBARRATRANSFERENCIA
      from TRN_CODIGO_RETIRO_SINCONTRATO join VW_SI_EMPRESA on VW_SI_EMPRESA.EMPRCODI = TRN_CODIGO_RETIRO_SINCONTRATO.CLIEMPRCODI
                                         join TRN_BARRA on TRN_BARRA.BARRCODI = TRN_CODIGO_RETIRO_SINCONTRATO.BARRCODI
      where TRN_CODIGO_RETIRO_SINCONTRATO.CORESCESTADO not in ('INA')
    </query>
  </Sql>

  <Sql>
    <key>GetByCriteria</key>
    <query>
      select TRN_CODIGO_RETIRO_SINCONTRATO.*,
      VW_SI_EMPRESA.EMPRNOMB,
      TRN_BARRA.BARRBARRATRANSFERENCIA
      from TRN_CODIGO_RETIRO_SINCONTRATO join VW_SI_EMPRESA on VW_SI_EMPRESA.EMPRCODI = TRN_CODIGO_RETIRO_SINCONTRATO.CLIEMPRCODI
                                         join TRN_BARRA  on TRN_BARRA.BARRCODI = TRN_CODIGO_RETIRO_SINCONTRATO.BARRCODI
      where (VW_SI_EMPRESA.EMPRNOMB =:EMPRNOMB  or :EMPRNOMB is null)
      and (TRN_BARRA.BARRBARRATRANSFERENCIA =:BARRBARRATRANSFERENCIA or :BARRBARRATRANSFERENCIA is null)
      and (TRN_CODIGO_RETIRO_SINCONTRATO.CORESCFECHAINICIO &gt;=:CORESCFECHAINICIO or :CORESCFECHAINICIO is null)
      and (TRN_CODIGO_RETIRO_SINCONTRATO.CORESCFECHAFIN &lt;=:CORESCFECHAFIN or :CORESCFECHAFIN is null)
      and (TRN_CODIGO_RETIRO_SINCONTRATO.CORESCESTADO =:CORESCESTADO or :CORESCESTADO is null)
    </query>
  </Sql>

  <Sql>
    <key>GetByCodigoRetiroSinContratoCodigo</key>
    <query>
      select TRN_CODIGO_RETIRO_SINCONTRATO.*,
      VW_SI_EMPRESA.EMPRNOMB,
      TRN_BARRA.BARRBARRATRANSFERENCIA
      from TRN_CODIGO_RETIRO_SINCONTRATO join VW_SI_EMPRESA on VW_SI_EMPRESA.EMPRCODI = TRN_CODIGO_RETIRO_SINCONTRATO.CLIEMPRCODI
      join TRN_BARRA on TRN_BARRA.BARRCODI = TRN_CODIGO_RETIRO_SINCONTRATO.BARRCODI
      where (TRN_CODIGO_RETIRO_SINCONTRATO.CORESCCODIGO = :CODRETISINCONCODIGO)
    </query>
  </Sql>

  <Sql>
    <key>GetMaxId</key>
    <query>
      select nvl(max(CORESCCODI), 0) + 1 from TRN_CODIGO_RETIRO_SINCONTRATO
    </query>
  </Sql>

</Sqls>
